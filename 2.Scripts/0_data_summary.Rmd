---
title: "Plant-buzzpollinators networks"
author: "Lorena Valad√£o & Pamela Santana"
date: "`r format(Sys.time(), '%d de %B de %Y')`"
output:
  rmdformats::readthedown:
    highlight: kate
    self_contained: true
    thumbnails: false
    lightbox: true
    gallery: false
  pdf_document:
    highlight: tango
    toc: yes
---
```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(knitr)
library(tidyverse); library(patchwork);library(readr)
theme_set(theme_bw())
library(janitor); library(lubridate);library(bipartite)
library(iNEXT);library(vegan); library(ggplot2);library(igraph)

opts_chunk$set(fig.align = 'center', warning = FALSE, message = FALSE, error = FALSE, echo=T, cache=F)
options(formatR.arrow = TRUE, width = 90, help_type = "html")
```

# Buzz pollination networks

Data was collected for 10 Chamaecrista plant species.

See file `metadata.txt`, in folder `data` for more description and detail of the dataset.

Reading and summarising data:
```{r Import Data}
data<- read_delim("1.RawData/dados_obs_grupos.csv", delim = ";", escape_double = FALSE, trim_ws = TRUE)
skimr::skim(data)

```
  #Interaction network

Here, the interaction currency is the interaction frequency -> number of visits of a bee species to a plant species. Only the plant species that were estimated for pollen deposition are included in this dataset.

```{r Interaction network}
rede_freq = read.csv2("1.RawData/rede_frequencia.csv", sep=",", header = TRUE, row.names = 1)
plotweb(rede_freq, text.rot=90, col.low="#999999", col.high="#000000", bor.col.high= "#999999", bor.col.low="#000000", bor.col.interaction="#333333", col.interaction="#666666") 

```
Here, the interaction currency is the deposition of pollen -> amount of pollen deposited on the stigma by each bee species.

```{r Network deposition}
rede_dep = read.csv2("1.RawData/rede_deposicao3.csv", header = TRUE, row.names = 1) 

plotweb(rede_dep, text.rot=90, col.low="#999999", col.high="#000000", bor.col.high= "#999999", bor.col.low="#000000", bor.col.interaction="#333333", col.interaction="#666666") 

```
Here, the interaction currency is the pollen removal from the anthers -> amount of pollen removed from the anthers by each bee species.

```{r Pollen removal network}
rede_remo = read.table("1.RawData/rede_remocao7.txt", header = TRUE) 

plotweb(rede_remo, text.rot=90, col.low="#999999", col.high="#000000", bor.col.high= "#999999", bor.col.low="#000000", bor.col.interaction="#333333", col.interaction="#666666") #muda as cores da rede
```

